"use strict";const o=require("../../../../common/vendor.js"),u={name:"u-popup",mixins:[o.mpMixin,o.mixin,o.props$3],data(){return{overlayDuration:this.duration+50}},watch:{show(e,t){if(e===!0){const n=this.$children;this.retryComputedComponentRect(n)}}},computed:{transitionStyle(){const e={zIndex:this.zIndex,position:"fixed",display:"flex"};if(e[this.mode]=0,this.mode==="left")return o.deepMerge(e,{bottom:0,top:0});if(this.mode==="right")return o.deepMerge(e,{bottom:0,top:0});if(this.mode==="top")return o.deepMerge(e,{left:0,right:0});if(this.mode==="bottom")return o.deepMerge(e,{left:0,right:0});if(this.mode==="center")return o.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0})},contentStyle(){const e={};if(o.getWindowInfo(),this.mode!=="center"&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){const t=o.addUnit(this.round);this.mode==="top"?(e.borderBottomLeftRadius=t,e.borderBottomRightRadius=t):this.mode==="bottom"?(e.borderTopLeftRadius=t,e.borderTopRightRadius=t):this.mode==="center"&&(e.borderRadius=t)}return o.deepMerge(e,o.addStyle(this.customStyle))},position(){if(this.mode==="center")return this.zoom?"fade-zoom":"fade";if(this.mode==="left")return"slide-left";if(this.mode==="right")return"slide-right";if(this.mode==="bottom")return"slide-up";if(this.mode==="top")return"slide-down"}},emits:["open","close","click","update:show"],methods:{overlayClick(){this.closeOnClickOverlay&&(this.$emit("update:show",!1),this.$emit("close"))},open(e){this.$emit("update:show",!0)},close(e){this.$emit("update:show",!1),this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){this.mode==="center"&&this.overlayClick(),this.$emit("click")},retryComputedComponentRect(e){const t=["u-calendar-month","u-album","u-collapse-item","u-dropdown","u-index-item","u-index-list","u-line-progress","u-list-item","u-rate","u-read-more","u-row","u-row-notice","u-scroll-list","u-skeleton","u-slider","u-steps-item","u-sticky","u-subsection","u-swipe-action-item","u-tabbar","u-tabs","u-tooltip"];for(let n=0;n<e.length;n++){const i=e[n],a=i.$children;t.includes(i.$options.name)&&typeof(i==null?void 0:i.init)=="function"&&o.sleep(50).then(()=>{i.init()}),a.length&&this.retryComputedComponentRect(a)}}}};if(!Array){const e=o.resolveComponent("u-overlay"),t=o.resolveComponent("u-status-bar"),n=o.resolveComponent("u-icon"),i=o.resolveComponent("u-safe-bottom"),a=o.resolveComponent("u-transition");(e+t+n+i+a)()}const l=()=>"../u-overlay/u-overlay.js",m=()=>"../u-status-bar/u-status-bar.js",d=()=>"../u-icon/u-icon.js",c=()=>"../u-safe-bottom/u-safe-bottom.js",p=()=>"../u-transition/u-transition.js";Math||(l+m+d+c+p)();function h(e,t,n,i,a,s){return o.e({a:o.o((...r)=>s.open&&s.open(...r)),b:e.overlay},e.overlay?{c:o.o(s.overlayClick),d:o.p({show:e.show,zIndex:e.zIndex,duration:a.overlayDuration,customStyle:e.overlayStyle,opacity:e.overlayOpacity})}:{},{e:e.safeAreaInsetTop},e.safeAreaInsetTop?{}:{},{f:e.closeable},e.closeable?{g:o.p({name:"close",color:"#909399",size:"18",bold:!0}),h:o.o((...r)=>s.close&&s.close(...r)),i:o.n("u-popup__content__close--"+e.closeIconPos)}:{},{j:e.safeAreaInsetBottom},e.safeAreaInsetBottom?{}:{},{k:o.s(s.contentStyle),l:o.o((...r)=>e.noop&&e.noop(...r)),m:o.o((...r)=>e.noop&&e.noop(...r)),n:o.o(s.afterEnter),o:o.o(s.clickHandler),p:o.p({show:e.show,customStyle:s.transitionStyle,mode:s.position,duration:e.duration}),q:o.n(e.customClass),r:e.show==!1?"0px":"",s:e.show==!1?"0px":""})}const f=o._export_sfc(u,[["render",h],["__scopeId","data-v-74921bef"]]);wx.createComponent(f);
